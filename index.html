<!DOCTYPE html> 
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SIMALAS - Sistem Manajemen Kelas Enhanced v3.0</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    :root{
      --primary:#6366f1;--primary-dark:#4f46e5;--secondary:#10b981;
      --danger:#ef4444;--warning:#f59e0b;--dark:#1e293b;--light:#f8fafc;
      --border:#e2e8f0;--purple:#a855f7;--cyan:#06b6d4;
    }
    body{
      font-family:'Inter',-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
      background:linear-gradient(135deg,#667eea 0%,#764ba2 50%,#f093fb 100%);
      min-height:100vh;padding:20px;transition:background .3s;
      background-attachment:fixed;
    }
    .container{max-width:1400px;margin:0 auto;}
    #loginOverlay{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(180deg,rgba(10,8,30,0.5),rgba(10,8,30,0.6));
      backdrop-filter:blur(10px);z-index:9999;padding:20px;
    }
    .login-card{
      width:480px;max-width:100%;border-radius:20px;overflow:hidden;
      background:rgba(255,255,255,0.98);
      box-shadow:0 30px 90px rgba(0,0,0,0.4);
      animation:slideUp .5s cubic-bezier(0.68,-0.55,0.265,1.55);
    }
    .login-header{
      background:linear-gradient(135deg,var(--primary),var(--purple));
      padding:30px;color:white;position:relative;overflow:hidden;
    }
    .login-header::before{
      content:'';position:absolute;top:-50%;right:-50%;
      width:200px;height:200px;background:rgba(255,255,255,0.1);
      border-radius:50%;animation:float 6s ease-in-out infinite;
    }
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-20px)}}
    .login-header h1{font-size:1.4rem;margin-bottom:8px;position:relative;z-index:1}
    .login-header p{opacity:.95;font-size:.95rem;margin:0;position:relative;z-index:1}
    .login-body{padding:30px;background:white}
    .form-row{margin-bottom:16px}
    .form-row label{
      display:block;font-weight:600;color:var(--dark);
      margin-bottom:8px;font-size:.9rem;
    }
    .form-row input{
      width:100%;padding:12px 16px;border-radius:12px;
      border:2px solid var(--border);font-size:14px;
      transition:all .3s;
    }
    .form-row input:focus{
      outline:none;border-color:var(--primary);
      box-shadow:0 0 0 4px rgba(99,102,241,0.1);
    }
    .remember-row{
      display:flex;align-items:center;gap:8px;margin-bottom:16px;
      padding:12px;background:var(--light);border-radius:12px;
    }
    .remember-row input[type="checkbox"]{
      width:20px;height:20px;cursor:pointer;accent-color:var(--primary);
    }
    .remember-row label{
      font-size:0.9rem;color:var(--dark);cursor:pointer;margin:0;
      display:flex;align-items:center;gap:6px;font-weight:500;
    }
    .btn{
      padding:12px 18px;border-radius:12px;border:0;cursor:pointer;
      font-weight:700;font-size:14px;transition:all .3s;
      display:inline-flex;align-items:center;gap:8px;
    }
    .btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px rgba(0,0,0,0.2)}
    .btn:active{transform:translateY(0)}
    .btn:disabled{opacity:0.6;cursor:not-allowed;transform:none}
    .btn-primary{background:linear-gradient(135deg,var(--primary),var(--purple));color:white}
    .btn-light{background:var(--light);color:var(--dark);border:2px solid var(--border)}
    .error-text{
      color:var(--danger);margin-top:10px;font-weight:700;
      display:none;font-size:14px;padding:8px;background:#fee2e2;
      border-radius:8px;
    }
    @keyframes slideUp{from{transform:translateY(30px);opacity:0}to{transform:none;opacity:1}}
    .header{
      background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);
      padding:25px;border-radius:20px;
      box-shadow:0 15px 40px rgba(0,0,0,0.15);margin-bottom:25px;
      display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px;
    }
    .logo{display:flex;align-items:center;gap:15px}
    .logo i{
      font-size:2.5rem;
      background:linear-gradient(135deg,var(--primary),var(--purple));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      background-clip:text;
    }
    .logo-text h1{font-size:1.6rem;color:var(--dark);margin-bottom:5px}
    .logo-text p{color:#64748b;font-size:0.9rem}
    .user-info{display:flex;align-items:center;gap:15px}
    .user-avatar{
      width:50px;height:50px;border-radius:50%;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      display:flex;align-items:center;justify-content:center;color:white;
      font-size:1.1rem;font-weight:bold;flex-shrink:0;
      box-shadow:0 4px 12px rgba(99,102,241,0.3);
    }
    .user-details h3{font-size:1rem;color:var(--dark)}
    .user-details p{font-size:0.85rem;color:#64748b}
    .nav-tabs{
      background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);
      padding:15px;border-radius:20px;
      box-shadow:0 10px 30px rgba(0,0,0,0.1);margin-bottom:25px;
      display:flex;gap:10px;overflow-x:auto;
    }
    .nav-tabs::-webkit-scrollbar{height:6px}
    .nav-tabs::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
    .nav-tab{
      padding:12px 20px;border:none;background:transparent;color:#64748b;
      font-size:0.9rem;font-weight:600;cursor:pointer;border-radius:12px;
      transition:all .3s;white-space:nowrap;flex-shrink:0;
    }
    .nav-tab:hover{background:var(--light);color:var(--primary);transform:translateY(-2px)}
    .nav-tab.active{
      background:linear-gradient(135deg,var(--primary),var(--purple));
      color:white;box-shadow:0 4px 12px rgba(99,102,241,0.3);
    }
    .nav-tab i{margin-right:6px}
    .dashboard-grid{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:20px;margin-bottom:30px;
    }
    .stat-card{
      background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);
      padding:25px;border-radius:20px;
      box-shadow:0 10px 30px rgba(0,0,0,0.1);position:relative;overflow:hidden;
      transition:all .3s;
    }
    .stat-card:hover{transform:translateY(-5px);box-shadow:0 15px 40px rgba(0,0,0,0.15)}
    .stat-card::before{
      content:'';position:absolute;top:-50px;right:-50px;width:150px;height:150px;
      background:var(--primary);opacity:0.08;border-radius:50%;
    }
    .stat-icon{
      width:60px;height:60px;border-radius:16px;display:flex;
      align-items:center;justify-content:center;font-size:1.8rem;
      margin-bottom:15px;color:white;position:relative;z-index:1;
    }
    .stat-card:nth-child(1) .stat-icon{background:linear-gradient(135deg,#667eea,#764ba2)}
    .stat-card:nth-child(2) .stat-icon{background:linear-gradient(135deg,#f093fb,#f5576c)}
    .stat-card:nth-child(3) .stat-icon{background:linear-gradient(135deg,#4facfe,#00f2fe)}
    .stat-card:nth-child(4) .stat-icon{background:linear-gradient(135deg,#43e97b,#38f9d7)}
    .stat-card:nth-child(5) .stat-icon{background:linear-gradient(135deg,#fa709a,#fee140)}
    .stat-value{
      font-size:2rem;font-weight:800;color:var(--dark);
      margin-bottom:5px;position:relative;z-index:1;
    }
    .stat-label{color:#64748b;font-size:0.9rem;position:relative;z-index:1}
    .content-section{display:none;animation:fadeIn .4s}
    .content-section.active{display:block}
    @keyframes fadeIn{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}
    .content-grid{display:grid;grid-template-columns:1fr;gap:25px}
    .card{
      background:rgba(255,255,255,0.95);backdrop-filter:blur(10px);
      padding:25px;border-radius:20px;
      box-shadow:0 10px 30px rgba(0,0,0,0.1);
      transition:all .3s;
    }
    .card:hover{box-shadow:0 15px 40px rgba(0,0,0,0.15)}
    .card-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:25px;padding-bottom:20px;
      border-bottom:2px solid var(--border);
      flex-wrap:wrap;gap:15px;
    }
    .card-title{
      font-size:1.3rem;color:var(--dark);font-weight:700;
      display:flex;align-items:center;gap:10px;
    }
    .card-title::before{
      content:'';width:4px;height:24px;
      background:linear-gradient(135deg,var(--primary),var(--purple));
      border-radius:2px;
    }
    .btn-sm{padding:10px 16px;font-size:0.85rem}
    .btn-danger{background:linear-gradient(135deg,var(--danger),#dc2626);color:white}
    .btn-success{background:linear-gradient(135deg,var(--secondary),#059669);color:white}
    .material-list{display:flex;flex-direction:column;gap:15px}
    .material-item{
      padding:18px;border:2px solid var(--border);border-radius:16px;
      display:flex;align-items:center;gap:15px;transition:all .3s;flex-wrap:wrap;
      background:white;
    }
    .material-item:hover{
      border-color:var(--primary);background:var(--light);
      transform:translateX(5px);box-shadow:0 4px 12px rgba(99,102,241,0.15);
    }
    .material-icon{
      width:50px;height:50px;border-radius:12px;display:flex;
      align-items:center;justify-content:center;font-size:1.4rem;
      color:white;flex-shrink:0;
    }
    .material-icon.pdf{background:linear-gradient(135deg,#ef4444,#dc2626)}
    .material-icon.doc{background:linear-gradient(135deg,#3b82f6,#2563eb)}
    .material-icon.ppt{background:linear-gradient(135deg,#f59e0b,#d97706)}
    .material-icon.xls{background:linear-gradient(135deg,#10b981,#059669)}
    .material-icon.zip{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}
    .material-icon.link{background:linear-gradient(135deg,#06b6d4,#0891b2)}
    .material-info{flex:1;min-width:150px}
    .material-title{font-weight:700;color:var(--dark);margin-bottom:6px;font-size:1rem}
    .material-meta{font-size:0.85rem;color:#64748b}
    .material-actions{display:flex;gap:10px;flex-shrink:0;flex-wrap:wrap}
    .task-list{display:flex;flex-direction:column;gap:15px}
    .task-item{
      padding:20px;border:2px solid var(--border);border-radius:16px;
      transition:all .3s;background:white;
    }
    .task-item:hover{
      box-shadow:0 8px 20px rgba(0,0,0,0.08);
      transform:translateY(-2px);
    }
    .task-item.completed{
      background:linear-gradient(135deg,#f0fdf4,#dcfce7);
      border-color:var(--secondary);
    }
    .task-header{
      display:flex;justify-content:space-between;align-items:start;
      margin-bottom:12px;gap:12px;flex-wrap:wrap;
    }
    .task-checkbox{width:24px;height:24px;cursor:pointer;flex-shrink:0;accent-color:var(--primary)}
    .task-title{font-weight:700;color:var(--dark);margin-bottom:8px;font-size:1.05rem}
    .task-deadline{
      display:inline-flex;align-items:center;gap:8px;padding:8px 14px;
      background:#fef3c7;color:#92400e;border-radius:10px;
      font-size:0.85rem;font-weight:600;white-space:nowrap;
    }
    .task-deadline.urgent{background:#fee2e2;color:#991b1b}
    .task-deadline.completed{background:#d1fae5;color:#065f46}
    .task-link{
      display:inline-flex;align-items:center;gap:8px;padding:8px 14px;
      background:linear-gradient(135deg,var(--primary),var(--purple));
      color:white;border-radius:10px;
      font-size:0.85rem;font-weight:600;text-decoration:none;
      transition:all .3s;margin-top:10px;
    }
    .task-link:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(99,102,241,0.4)}
    .task-actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
    .event-item{
      padding:18px;border:2px solid var(--border);border-radius:16px;
      background:white;transition:all .3s;margin-bottom:15px;
    }
    .event-item:hover{
      border-color:var(--purple);
      box-shadow:0 8px 20px rgba(168,85,247,0.15);
      transform:translateX(5px);
    }
    .event-header{display:flex;justify-content:space-between;align-items:start;gap:12px;flex-wrap:wrap}
    .event-title{font-weight:700;color:var(--dark);font-size:1.05rem;margin-bottom:6px}
    .event-date{
      display:inline-flex;align-items:center;gap:8px;padding:8px 14px;
      background:linear-gradient(135deg,#fae8ff,#f3e8ff);
      color:#7e22ce;border-radius:10px;
      font-size:0.85rem;font-weight:600;
    }
    .event-desc{color:#64748b;font-size:0.9rem;margin-top:8px}
    .event-actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
    .jadwal-table{width:100%;border-collapse:collapse;margin-top:15px}
    .jadwal-table th,.jadwal-table td{padding:14px;text-align:left;border-bottom:2px solid var(--border)}
    .jadwal-table th{
      background:linear-gradient(135deg,var(--light),#e0e7ff);
      font-weight:700;color:var(--dark);font-size:0.9rem;
    }
    .jadwal-table td{font-size:0.9rem;color:#475569}
    .jadwal-table tr:hover{background:var(--light)}
    .jadwal-day{font-weight:700;color:var(--primary)}
    .jadwal-time{color:#64748b;font-size:0.85rem;display:flex;align-items:center;gap:5px}
    .jadwal-sks{
      background:linear-gradient(135deg,var(--primary),var(--purple));
      color:white;padding:5px 12px;border-radius:20px;
      font-weight:600;font-size:0.8rem;display:inline-block;
    }
    .kas-list{display:flex;flex-direction:column;gap:12px}
    .kas-item{
      display:flex;justify-content:space-between;align-items:center;
      padding:15px;border:2px solid var(--border);border-radius:14px;
      transition:all .3s;gap:12px;flex-wrap:wrap;background:white;
    }
    .kas-item:hover{
      border-color:var(--secondary);
      box-shadow:0 4px 12px rgba(16,185,129,0.15);
    }
    .kas-name{font-weight:700;color:var(--dark);font-size:0.95rem;flex:1;min-width:150px}
    .kas-amount{font-weight:800;color:var(--primary);font-size:1.05rem;margin-left:10px}
    .kas-status{
      padding:8px 16px;border-radius:20px;font-size:0.85rem;
      font-weight:600;flex-shrink:0;transition:all .3s;
    }
    .kas-status.paid{background:#d1fae5;color:#065f46}
    .kas-status.unpaid{background:#fee2e2;color:#991b1b}
    .kas-status:hover{transform:scale(1.05)}
    .upcoming-task{
      padding:15px;background:white;border-radius:14px;
      margin-bottom:12px;border-left:4px solid var(--warning);
      box-shadow:0 2px 8px rgba(0,0,0,0.05);
    }
    .upcoming-task-title{font-weight:700;color:var(--dark);margin-bottom:6px;font-size:0.95rem}
    .upcoming-task-time{font-size:0.85rem;color:#64748b}
    .modal{
      display:none;position:fixed;top:0;left:0;width:100%;height:100%;
      background:rgba(0,0,0,0.6);backdrop-filter:blur(5px);
      z-index:2000;align-items:center;justify-content:center;padding:15px;
    }
    .modal.active{display:flex}
    .modal-content{
      background:white;padding:30px;border-radius:20px;
      max-width:550px;width:100%;
      animation:slideUp .4s cubic-bezier(0.68,-0.55,0.265,1.55);
      max-height:90vh;overflow-y:auto;
      box-shadow:0 30px 90px rgba(0,0,0,0.4);
    }
    .modal-content::-webkit-scrollbar{width:8px}
    .modal-content::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
    .modal-header{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:25px;gap:15px;
    }
    .modal-title{
      font-size:1.4rem;color:var(--dark);font-weight:700;
      display:flex;align-items:center;gap:10px;
    }
    .close-modal{
      font-size:1.5rem;cursor:pointer;color:#64748b;
      border:none;background:none;padding:5px;
      transition:all .3s;width:35px;height:35px;
      display:flex;align-items:center;justify-content:center;
      border-radius:8px;
    }
    .close-modal:hover{background:var(--light);color:var(--danger);transform:rotate(90deg)}
    .form-group{margin-bottom:18px}
    .form-label{
      display:block;margin-bottom:10px;color:var(--dark);
      font-weight:600;font-size:0.95rem;
    }
    .form-control{
      width:100%;padding:12px 16px;border:2px solid var(--border);
      border-radius:12px;font-size:14px;transition:all .3s;
    }
    .form-control:focus{
      outline:none;border-color:var(--primary);
      box-shadow:0 0 0 4px rgba(99,102,241,0.1);
    }
    #uploadOverlay{
      display:none;position:fixed;inset:0;
      background:rgba(0,0,0,0.8);backdrop-filter:blur(10px);
      z-index:3000;align-items:center;justify-content:center;
    }
    #uploadOverlay.active{display:flex}
    .upload-progress{
      background:white;padding:40px;border-radius:20px;
      text-align:center;min-width:320px;
      box-shadow:0 30px 90px rgba(0,0,0,0.5);
    }
    .upload-progress i{
      font-size:3.5rem;color:var(--primary);margin-bottom:20px;
      animation:spin 1s linear infinite;
    }
    @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    .upload-progress h3{margin-bottom:12px;color:var(--dark);font-size:1.3rem}
    .upload-progress p{color:#64748b;font-size:1rem}
    @media (max-width:768px){
      body{padding:12px}
      .header{padding:20px}
      .logo i{font-size:2rem}
      .logo-text h1{font-size:1.3rem}
      .user-avatar{width:45px;height:45px}
      .material-item{padding:15px;gap:12px}
      .task-item{padding:15px}
      .card{padding:20px}
      .nav-tabs{padding:12px;gap:8px}
      .stat-card{padding:20px}
      .dashboard-grid{grid-template-columns:repeat(auto-fit,minmax(200px,1fr))}
    }
    @media (min-width:1200px){
      .content-grid{grid-template-columns:2fr 1fr}
      .dashboard-grid{grid-template-columns:repeat(5,1fr)}
    }
  </style>
</head>
<body>

<div id="uploadOverlay">
  <div class="upload-progress">
    <i class="fas fa-spinner"></i>
    <h3>Memproses...</h3>
    <p>Mohon tunggu sebentar</p>
  </div>
</div>

<div id="loginOverlay">
  <div class="login-card">
    <div class="login-header">
      <h1><i class="fas fa-graduation-cap"></i> SIMALAS</h1>
      <p>Masuk dengan NIM & password Anda</p>
    </div>
    <div class="login-body">
      <div class="form-row">
        <label for="loginNIM">NIM</label>
        <input id="loginNIM" placeholder="contoh: 240602010" autocomplete="username" />
      </div>
      <div class="form-row">
        <label for="loginPass">Password</label>
        <input id="loginPass" type="password" placeholder="masukkan password" autocomplete="current-password" />
      </div>
      <div class="remember-row">
        <input type="checkbox" id="rememberMe" />
        <label for="rememberMe">
          <i class="fas fa-bookmark"></i> Ingat saya
        </label>
      </div>
      <div style="display: flex; justify-content: center; margin-top: 12px; gap: 10px;">
        <button id="btnLogin" class="btn btn-primary" 
          style="
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px; 
            padding: 10px 20px; 
            font-size: 16px; 
            border-radius: 8px; 
            flex: 0 1 200px;
          ">
          <i class="fas fa-right-to-bracket"></i>
          <span>Login</span>
        </button>
        <button id="btnReset" class="btn btn-light" title="Reset Semua Data (Khusus Ketua)" style="flex:0 0 auto;display:none">
          <i class="fas fa-rotate-left"></i>
        </button>
      </div>
      <div id="loginError" class="error-text">NIM atau password salah.</div>
    </div>
  </div>
</div>

<div class="container" id="app" style="display:none">
  <div class="header">
    <div class="logo">
      <i class="fas fa-graduation-cap"></i>
      <div class="logo-text">
        <h1>SIMALAS</h1>
        <p>Sistem Manajemen Kelas</p>
      </div>
    </div>
    <div class="user-info">
      <div class="user-details">
        <h3 id="displayRole">Mahasiswa</h3>
        <p id="displayUser">Kelas A-PG</p>
      </div>
      <div class="user-avatar" id="displayAvatar"><i class="fas fa-user"></i></div>
    </div>
  </div>

  <div class="nav-tabs">
    <button class="nav-tab active" onclick="showSection('dashboard')"><i class="fas fa-home"></i> Dashboard</button>
    <button class="nav-tab" onclick="showSection('jadwal')"><i class="fas fa-calendar-alt"></i> Jadwal</button>
    <button class="nav-tab" onclick="showSection('materi')"><i class="fas fa-book"></i> Materi</button>
    <button class="nav-tab" onclick="showSection('tugas')"><i class="fas fa-tasks"></i> Tugas</button>
    <button class="nav-tab" onclick="showSection('events')"><i class="fas fa-calendar-check"></i> Acara</button>
    <button class="nav-tab" onclick="showSection('kas')"><i class="fas fa-wallet"></i> Kas</button>
    <button class="nav-tab" onclick="openModal('modalChangePass')"><i class="fas fa-key"></i> Password</button>
    <button class="nav-tab" onclick="doLogout()"><i class="fas fa-sign-out-alt"></i> Logout</button>
  </div>

  <div id="dashboard" class="content-section active">
    <div class="dashboard-grid">
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-book"></i></div>
        <div class="stat-value" id="statMateri">0</div>
        <div class="stat-label">Materi Tersedia</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-tasks"></i></div>
        <div class="stat-value" id="statTugas">0/0</div>
        <div class="stat-label">Tugas Selesai</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-clock"></i></div>
        <div class="stat-value" id="statDead">0</div>
        <div class="stat-label">Deadline Mendekat</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-calendar-check"></i></div>
        <div class="stat-value" id="statEvents">0</div>
        <div class="stat-label">Acara Mendatang</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
        <div class="stat-value" id="statK
        as">-</div>
        <div class="stat-label">Status Kas</div>
      </div>
    </div>
    <div class="content-grid">
      <div class="card">
        <div class="card-header">
          <h2 class="card-title">Materi Terbaru</h2>
          <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
            <select id="filterDashboard" class="form-control" style="width:auto;padding:10px 14px;font-size:0.9rem" onchange="applyFilterDashboard()">
              <option value="all">Semua Mata Kuliah</option>
            </select>
            <button id="btnTopUpload" class="btn btn-primary btn-sm" onclick="openModal('modalUpload')" style="display:none">
              <i class="fas fa-plus"></i> Upload
            </button>
          </div>
        </div>
        <div class="material-list" id="materiPreview"></div>
      </div>
      <div class="card">
        <div class="card-header"><h2 class="card-title">Deadline & Acara</h2></div>
        <div id="upcoming"></div>
      </div>
    </div>
  </div>

  <div id="jadwal" class="content-section">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Jadwal Kuliah</h2>
        <div style="color:#64748b;font-size:0.9rem">
          Total: <span id="totalSKS" style="font-weight:700;color:var(--primary)">24 SKS</span>
        </div>
      </div>
      <div style="overflow-x:auto">
        <table class="jadwal-table" id="jadwalTable"></table>
      </div>
    </div>
  </div>

  <div id="materi" class="content-section">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Materi Kuliah</h2>
        <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
          <select id="filterMateri" class="form-control" style="width:auto;padding:10px 14px;font-size:0.9rem" onchange="applyFilterMateri()">
            <option value="all">Semua Mata Kuliah</option>
          </select>
          <button id="btnUploadPage" class="btn btn-primary btn-sm" onclick="openModal('modalUpload')" style="display:none">
            <i class="fas fa-plus"></i> Upload
          </button>
        </div>
      </div>
      <div class="material-list" id="materiList"></div>
    </div>
  </div>

  <div id="tugas" class="content-section">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Daftar Tugas</h2>
        <button id="btnAddTugas" class="btn btn-primary btn-sm" onclick="openModal('modalAddTugas')" style="display:none">
          <i class="fas fa-plus"></i> Tambah Tugas
        </button>
      </div>
      <div class="task-list" id="tugasList"></div>
    </div>
  </div>

  <div id="events" class="content-section">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Acara Pribadi</h2>
        <button class="btn btn-primary btn-sm" onclick="openModal('modalAddEvent')">
          <i class="fas fa-plus"></i> Tambah Acara
        </button>
      </div>
      <div style="background:linear-gradient(135deg,#fae8ff,#f3e8ff);padding:15px;border-radius:12px;margin-bottom:20px;border-left:4px solid var(--purple)">
        <p style="color:#7e22ce;font-size:0.9rem;margin:0">
          <i class="fas fa-info-circle"></i> <strong>Acara pribadi</strong> hanya dapat dilihat oleh Anda sendiri
        </p>
      </div>
      <div id="eventsList"></div>
    </div>
  </div>

  <div id="kas" class="content-section">
    <div class="card">
      <div class="card-header">
        <h2 class="card-title">Kas Kelas</h2>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <button class="btn btn-success btn-sm" onclick="exportKas()">
            <i class="fas fa-download"></i> Export
          </button>
          <button id="btnAddKas" class="btn btn-primary btn-sm" onclick="openModal('modalAddKas')" style="display:none">
            <i class="fas fa-plus"></i> Tambah Anggota
          </button>
        </div>
      </div>
      <div class="kas-list" id="kasList"></div>
    </div>
  </div>
</div>

<!-- MODALS -->
<div id="modalUpload" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-upload"></i> Upload Materi</h3>
      <button class="close-modal" onclick="closeModal('modalUpload')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formUpload" onsubmit="handleUpload(event)">
      <div class="form-group">
        <label class="form-label">Scope Materi</label>
        <select class="form-control" id="uploadScope" onchange="toggleCourseField()" required>
          <option value="all">Semua Mata Kuliah</option>
          <option value="specific">Mata Kuliah Tertentu</option>
        </select>
      </div>
      <div class="form-group" id="courseGroup" style="display:none">
        <label class="form-label">Nama Mata Kuliah</label>
        <input class="form-control" id="uploadCourse">
      </div>
      <div class="form-group">
        <label class="form-label">Judul Materi</label>
        <input class="form-control" id="uploadTitle" required>
      </div>
      <div class="form-group">
        <label class="form-label">Tipe Upload</label>
        <select class="form-control" id="uploadType" onchange="toggleUploadType()" required>
          <option value="file">üìÅ Upload File</option>
          <option value="link">üîó Input Link</option>
        </select>
      </div>
      <div class="form-group" id="fileGroup">
        <label class="form-label">File (Max 50MB)</label>
        <input type="file" class="form-control" id="uploadFile" accept=".pdf,.doc,.docx,.ppt,.pptx,.xls,.xlsx,.zip,.rar">
      </div>
      <div class="form-group" id="linkGroup" style="display:none">
        <label class="form-label">Link Materi</label>
        <input type="url" class="form-control" id="uploadLink" placeholder="https://drive.google.com/...">
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%" id="btnUploadSubmit">
        <i class="fas fa-upload"></i> Upload
      </button>
    </form>
  </div>
</div>

<div id="modalAddTugas" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-plus"></i> Tambah Tugas</h3>
      <button class="close-modal" onclick="closeModal('modalAddTugas')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formAddTugas" onsubmit="handleAddTugas(event)">
      <div class="form-group">
        <label class="form-label">Mata Kuliah</label>
        <input class="form-control" id="tugasCourse" required>
      </div>
      <div class="form-group">
        <label class="form-label">Nama Tugas</label>
        <input class="form-control" id="tugasTitle" required>
      </div>
      <div class="form-group">
        <label class="form-label">Deadline</label>
        <input type="datetime-local" class="form-control" id="tugasDeadline" required>
      </div>
      <div class="form-group">
        <label class="form-label">Link Pengumpulan</label>
        <input type="url" class="form-control" id="tugasLink" placeholder="https://classroom.google.com/...">
      </div>
      <div class="form-group">
        <label class="form-label">Deskripsi</label>
        <textarea class="form-control" id="tugasDesc" rows="3"></textarea>
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-plus"></i> Tambah
      </button>
    </form>
  </div>
</div>

<div id="modalEditTugas" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-edit"></i> Edit Tugas</h3>
      <button class="close-modal" onclick="closeModal('modalEditTugas')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formEditTugas" onsubmit="handleEditTugas(event)">
      <input type="hidden" id="editTaskId">
      <div class="form-group">
        <label class="form-label">Mata Kuliah</label>
        <input class="form-control" id="editTugasCourse" required>
      </div>
      <div class="form-group">
        <label class="form-label">Nama Tugas</label>
        <input class="form-control" id="editTugasTitle" required>
      </div>
      <div class="form-group">
        <label class="form-label">Deadline</label>
        <input type="datetime-local" class="form-control" id="editTugasDeadline" required>
      </div>
      <div class="form-group">
        <label class="form-label">Link Pengumpulan</label>
        <input type="url" class="form-control" id="editTugasLink">
      </div>
      <div class="form-group">
        <label class="form-label">Deskripsi</label>
        <textarea class="form-control" id="editTugasDesc" rows="3"></textarea>
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-save"></i> Simpan
      </button>
    </form>
  </div>
</div>

<div id="modalAddEvent" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-calendar-plus"></i> Tambah Acara</h3>
      <button class="close-modal" onclick="closeModal('modalAddEvent')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formAddEvent" onsubmit="handleAddEvent(event)">
      <div class="form-group">
        <label class="form-label">Nama Acara</label>
        <input class="form-control" id="eventTitle" required placeholder="contoh: Shopping">
      </div>
      <div class="form-group">
        <label class="form-label">Tanggal & Waktu</label>
        <input type="datetime-local" class="form-control" id="eventDate" required>
      </div>
      <div class="form-group">
        <label class="form-label">Lokasi</label>
        <input class="form-control" id="eventLocation" placeholder="contoh: Icon Mall Gresik">
      </div>
      <div class="form-group">
        <label class="form-label">Deskripsi</label>
        <textarea class="form-control" id="eventDesc" rows="3" placeholder="Detail acara..."></textarea>
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-plus"></i> Tambah Acara
      </button>
    </form>
  </div>
</div>

<div id="modalEditEvent" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-edit"></i> Edit Acara</h3>
      <button class="close-modal" onclick="closeModal('modalEditEvent')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formEditEvent" onsubmit="handleEditEvent(event)">
      <input type="hidden" id="editEventId">
      <div class="form-group">
        <label class="form-label">Nama Acara</label>
        <input class="form-control" id="editEventTitle" required>
      </div>
      <div class="form-group">
        <label class="form-label">Tanggal & Waktu</label>
        <input type="datetime-local" class="form-control" id="editEventDate" required>
      </div>
      <div class="form-group">
        <label class="form-label">Lokasi</label>
        <input class="form-control" id="editEventLocation">
      </div>
      <div class="form-group">
        <label class="form-label">Deskripsi</label>
        <textarea class="form-control" id="editEventDesc" rows="3"></textarea>
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-save"></i> Simpan
      </button>
    </form>
  </div>
</div>

<div id="modalAddKas" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-plus"></i> Tambah Anggota Kas</h3>
      <button class="close-modal" onclick="closeModal('modalAddKas')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formAddKas" onsubmit="handleAddKas(event)">
      <div class="form-group">
        <label class="form-label">NIM (opsional)</label>
        <input class="form-control" id="addKasNIM" placeholder="240602xxx">
      </div>
      <div class="form-group">
        <label class="form-label">Nama <span style="color:var(--danger)">*</span></label>
        <input class="form-control" id="addKasName" required placeholder="Nama lengkap anggota">
      </div>
      <div class="form-group">
        <label class="form-label">Nominal (Rp) <span style="color:var(--danger)">*</span></label>
        <input type="number" class="form-control" id="addKasAmount" required min="1000" value="10000" placeholder="10000">
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-plus"></i> Tambah Anggota
      </button>
    </form>
  </div>
</div>

<div id="modalEditKas" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-edit"></i> Edit Kas</h3>
      <button class="close-modal" onclick="closeModal('modalEditKas')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formEditKas" onsubmit="handleEditKas(event)">
      <input type="hidden" id="editKasId">
      <div class="form-group">
        <label class="form-label">Nama</label>
        <input class="form-control" id="editKasName" required>
      </div>
      <div class="form-group">
        <label class="form-label">Nominal (Rp)</label>
        <input type="number" class="form-control" id="editKasAmount" required min="1000">
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-save"></i> Simpan
      </button>
    </form>
  </div>
</div>

<div id="modalChangePass" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 class="modal-title"><i class="fas fa-key"></i> Ubah Password</h3>
      <button class="close-modal" onclick="closeModal('modalChangePass')"><i class="fas fa-times"></i></button>
    </div>
    <form id="formChangePass" onsubmit="handleChangePass(event)">
      <div class="form-group">
        <label class="form-label">Password Lama <span style="color:var(--danger)">*</span></label>
        <input type="password" id="oldPass" class="form-control" required placeholder="Masukkan password lama">
      </div>
      <div class="form-group">
        <label class="form-label">Password Baru <span style="color:var(--danger)">*</span></label>
        <input type="password" id="newPass" class="form-control" required placeholder="Minimal 6 karakter">
      </div>
      <div class="form-group">
        <label class="form-label">Konfirmasi Password <span style="color:var(--danger)">*</span></label>
        <input type="password" id="confPass" class="form-control" required placeholder="Ketik ulang password baru">
      </div>
      <button type="submit" class="btn btn-primary" style="width:100%">
        <i class="fas fa-key"></i> Ubah Password
      </button>
    </form>
  </div>
</div>
<script src="config.js"></script>
<script src="app.js"></script>
</body>
</html>
